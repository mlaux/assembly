var t=function(){this.g=300;this.h=null;this.i=null;this.visible=false;this.j=0;this.k=0;this.l=false;this.update=function(t){if(!this.i||this.i.contentWindow.document.readyState!=="complete"){return}this.j=Math.max(0,this.j-t/I.m);if(this.visible){this.k=1-this.j/this.g}else{if(this.j===0&&this.k!==0){this.o()}this.k=this.j/this.g}this.resize()};this.hide=function(){if(!this.visible){return}if(this.i.contentWindow.stop!==undefined){this.i.contentWindow.stop()}else{this.i.contentWindow.document.execCommand("Stop")}this.visible=false;this.j=this.g-this.j};this.show=function(){if(this.visible){return}this.l=true;this.visible=true;this.j=this.g-this.j};this.p=function(){this.i.contentWindow.location.replace("adPage.html")};this.o=function(){this.i.contentWindow.location.replace("about:blank")};this.resize=function(){if(!this.i||!this.i.contentWindow||!this.i.contentWindow.document||this.i.contentWindow.document.readyState!=="complete"){return}var t=this.i.contentWindow.document.getElementById("adFrameAdContainer");if(!t){return}var i=this.i.contentWindow.getComputedStyle(t).getPropertyValue("width");i=i.substring(0,i.length-2);var n=this.i.contentWindow.getComputedStyle(t).getPropertyValue("height");n=n.substring(0,n.length-2);this.i.style.width=i+"px";this.i.style.height=n+"px";this.h.style.top="-"+Math.floor(n*(1-this.k))+"px"};this.y=function(){this.init()};this.init=function(){if(window.AdInterface){return}this.h=document.getElementById("ad-container");this.i=document.getElementById("ad-frame");this.resize()}};var i=function(){this.q=function(){var t=this.s();var i=this.t();var n=this.u(P.v[0],P.v[1])&&!S.A();if(n&&X.style.display==="none"){p.drawImage(q,t[0],t[1],i[0],i[1])}else{p.drawImage(Y,t[0],t[1],i[0],i[1])}p.fillStyle=n?"#"+I.B:"#"+I.C;p.textAlign="center";p.textBaseline="top";p.font=this.D()+"px Begok ";p.fillText("back",t[0]+i[0]/2,t[1]+i[1])};this.F=function(){var t=this.G();var i=this.t();var n=this.H(P.v[0],P.v[1])&&!S.A();p.translate(t[0]+i[0]/2,t[1]+i[1]/2);p.scale(-1,1);if(n&&X.style.display==="none"){p.drawImage(q,-i[0]/2,-i[1]/2,i[0],i[1])}else{p.drawImage(Y,-i[0]/2,-i[1]/2,i[0],i[1])}p.scale(-1,1);p.translate(-t[0]-i[0]/2,-t[1]-i[1]/2);p.fillStyle=n?"#"+I.B:"#"+I.C;p.textAlign="center";p.textBaseline="top";p.font=this.D()+"px Begok ";p.fillText("submit",t[0]+i[0]/2,t[1]+i[1])};this.s=function(){var t=this.t();return[window.innerWidth*.05,window.innerHeight-window.innerWidth*.05-t[1]]};this.G=function(){var t=this.t();return[window.innerWidth-window.innerWidth*.05-t[0],window.innerHeight-window.innerWidth*.05-t[1]]};this.t=function(){return[window.innerWidth*75e-5*153,window.innerWidth*75e-5*128]};this.D=function(){return window.innerWidth*.02625};this.I=function(){return window.innerWidth*.027};this.u=function(t,i){var n=this.s();var h=this.t();h[1]+=this.I();var e=[n[0]+h[0]+n[0],n[1]-(window.innerHeight-n[1]-h[1])];return t<e[0]&&i>=e[1]};this.H=function(t,i){var n=this.G();var h=this.t();h[1]+=this.I();var e=[n[0]-(window.innerWidth-n[0]-h[0]),n[1]-(window.innerHeight-n[1]-h[1])];return t>=e[0]&&i>=e[1]}};var n=function(){this.C="ffffff";this.B="afafaf";this.J="232323";this.K="868687";this.m=.05};var h=function(){this.L=.1;this.M=.12;this.N=.04;this.O=.85;this.P=25e-5;this.R=4e-4;this.S=1.96875;this.T=.02;this.U=false;this.V=[];this.W=0;this.X=[0,0];this.Y=[];this.Z=0;this.$=-1;this._=0;this.aa=0;this.ba=0;this.ca=0;this.da=0;this.ea=[0,0];this.fa=[0,0];this.ga=0;this.ha=0;this.ia=[0,0];this.ja=0;this.ka=[0,0];this.la=0;this.ma=0;this.ma=0;this.na=1;this.oa=false;this.pa=false;this.update=function(t){if(this.pa){return}if(this.ga>0){this.ga+=.03*t;this.ga=Math.min(1,this.ga)}if(this.oa){return}if(this._-this.aa<=this.P*t){this.aa=this._}else{this.aa+=this.P*t}this.Z+=this.aa*t;this.qa(t);this.ra();this.sa(t);for(var i=0;i<this.V.length;i++){this.V[i].update(t);if(this.V[i].ta()){this.V.splice(i,1);i--}}};this.sa=function(t){this.ma=Math.max(0,this.ma-t/I.m);var i=this.ja*(this.ma/this.la);if(this.ma>0&&this.ka[0]===this.ia[0]&&this.ka[1]===this.ia[1]){var n=Math.atan2(this.ka[1],this.ka[0]);var h=n-Math.PI+Math.random()*Math.PI-Math.PI/2;this.ia=[Math.cos(h)*i,Math.sin(h)*i]}else if(this.ma===0&&(this.ka[0]!==0||this.ka[1]!==0)){this.ia=[0,0]}var e=[this.ia[0]-this.ka[0],this.ia[1]-this.ka[1]];var s=Math.sqrt(e[0]*e[0]+e[1]*e[1]);e[0]=e[0]/s;e[1]=e[1]/s;var r=this.ia[0]-this.ka[0];var o=this.ia[1]-this.ka[1];var l=Math.sqrt(r*r+o*o);if(l<this.na*t){this.ka[0]=this.ia[0];this.ka[1]=this.ia[1]}else{this.ka[0]+=e[0]*this.na*t;this.ka[1]+=e[1]*this.na*t}};this.qa=function(t){var i=Math.min(window.innerWidth,window.innerHeight);if(this.da-this.ca<=this.R*t){this.ca=this.da}else{this.ca+=this.R*t}this.ha=Math.max(0,this.ha-this.T*t);var n=this.ua(i*this.O/2);var h=this.ua(i*this.O/2+i*.2);var e=[window.innerWidth/2+this.X[0]*i,window.innerHeight/2+this.X[1]*i];var s=[0,0];var r=this.ca*t*i;var o=-1;var l=true;while(l){l=false;var d=2147483647;var c=-1;var w=r;var f=[0,0];var u=0;s=[window.innerWidth/2+this.X[0]*i+w*Math.cos(this.ba),window.innerHeight/2+this.X[1]*i+w*Math.sin(this.ba)];var v=[s[0]-e[0],s[1]-e[1]];var g=Math.sqrt(v[0]*v[0]+v[1]*v[1]);v[0]/=g;v[1]/=g;var m=[e,s];for(var p=0;p<n.length;p++){var M=n[p];var W=[h[p][1],h[p][0],M[0],M[1]];var I=[0,0];if(y.va(I,m,M)){var x=I[0]-this.fa[0];var P=I[1]-this.fa[1];if(Math.sqrt(x*x+P*P)<=.01){continue}l=true;var H=I[0]-window.innerWidth/2;var A=I[1]-window.innerHeight/2;var k=Math.sqrt(H*H+A*A);if(k>=d){continue}d=k;f[0]=I[0];f[1]=I[1];var B=y.wa(this.ba,this.Y[p]+this.Z);u=Math.PI+(this.Y[p]+this.Z)+B;var T=I[0]-s[0];var S=I[1]-s[1];w=Math.sqrt(T*T+S*S);c=p;break}else if(y.xa(W,s)){var R=[[m[0][0]-v[0]*500,m[0][1]-v[1]*500],[m[1][0]+v[0]*500,m[1][1]+v[1]*500]];var E=[M[1][0]-M[0][0],M[1][1]-M[0][1]];var Y=Math.sqrt(E[0]*E[0]+E[1]*E[1]);E[0]/=Y;E[1]/=Y;var q=[[M[0][0]-E[0],M[0][1]-E[1]],[M[1][0]+E[0],M[1][1]+E[1]]];if(y.va(I,R,q)){var x=I[0]-this.fa[0];var P=I[1]-this.fa[1];if(Math.sqrt(x*x+P*P)<=.01){continue}l=true;var H=I[0]-window.innerWidth/2;var A=I[1]-window.innerHeight/2;var k=Math.sqrt(H*H+A*A);if(k>=d){continue}d=k;f[0]=I[0];f[1]=I[1];var B=y.wa(this.ba,this.Y[p]+this.Z);u=Math.PI+(this.Y[p]+this.Z)+B;var T=I[0]-s[0];var S=I[1]-s[1];w=Math.sqrt(T*T+S*S);c=p;break}}}if(d!==2147483647){this.ba=u;this.fa[0]=f[0];this.fa[1]=f[1];e[0]=f[0]+Math.cos(this.ba)*w;e[1]=f[1]+Math.sin(this.ba)*w;this.X[0]=(e[0]-window.innerWidth/2)/i;this.X[1]=(e[1]-window.innerHeight/2)/i;if(o===-1){this.ea[0]=this.fa[0];this.ea[1]=this.fa[1];o=c}}}if(o>=0){this.ya(o)}for(var p=0;p<n.length;p++){var M=n[p];var W=[h[p][1],h[p][0],M[0],M[1]];if(y.xa(W,s)){var X=[0,0];y.za(X,M,s);s[0]=X[0];s[1]=X[1]}}this.X[0]=(s[0]-window.innerWidth/2)/i;this.X[1]=(s[1]-window.innerHeight/2)/i;if(this.oa){this.X[0]=(this.ea[0]-window.innerWidth/2)/i;this.X[1]=(this.ea[1]-window.innerHeight/2)/i}};this.Aa=function(t){this.ja=t/50;this.na=t/100;this.ma=300*(this.ja/(1/50));this.la=this.ma};this.ra=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=this.X[0]*t+window.innerWidth/2;var n=this.X[1]*t+window.innerHeight/2;if(i<0||i>window.innerWidth||n<0||n>window.innerHeight){this.X[0]=0;this.X[1]=0}};this.Ba=function(){p.clearRect(0,0,window.innerWidth,window.innerHeight);var t=Math.min(window.innerWidth,window.innerHeight);var i=[this.ka[0],this.ka[1]];p.translate(i[0]*t,i[1]*t);if(!this.oa){this.Ca()}for(var n=0;n<this.V.length;n++){this.V[n].Ba()}this.Da();this.Ea();if(this.oa){p.globalAlpha=this.ga*.8;p.fillStyle="#"+I.J;p.fillRect(0,0,window.innerWidth,window.innerHeight);p.globalAlpha=1;this.Fa();this.Ga();this.q();if(!this.U){this.F()}}if(this.ga>0){this.Ha()}p.translate(-i[0]*t,-i[1]*t);if(X.style.display==="block"){p.globalAlpha=this.ga*.8;p.fillStyle="#"+I.J;p.fillRect(0,0,window.innerWidth,window.innerHeight);p.globalAlpha=1}if(this.pa){p.globalAlpha=.8;p.fillStyle="#"+I.J;p.fillRect(0,0,window.innerWidth,window.innerHeight);p.globalAlpha=1;A.Ia()}};this.q=function(){p.globalAlpha=this.ga;W.q();p.globalAlpha=1};this.F=function(){p.globalAlpha=this.ga;W.F();p.globalAlpha=1};this.Ga=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*.1;p.fillStyle="rgba(255, 255, 255, 1)";p.textAlign="center";p.textBaseline="top";p.font=this.Ja()/5+"px PirulenRg-Regular";p.fillText("score:   ",window.innerWidth/2,window.innerHeight/2+i);p.textAlign="left";p.font=this.Ja()/5+"px PirulenRg-Regular";p.fillText(""+this.W,window.innerWidth/2+window.innerWidth/10,window.innerHeight/2+i-window.innerWidth/1600)};this.Ea=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*this.L/2;p.fillStyle="#ffffff";if(this.ha>0){p.globalAlpha=this.ha;var n=i*2*this.S;p.drawImage(E,window.innerWidth/2+this.X[0]*t-n/2,window.innerHeight/2+this.X[1]*t-n/2,n,n);p.globalAlpha=1}p.beginPath();p.arc(window.innerWidth/2+this.X[0]*t,window.innerHeight/2+this.X[1]*t,i,Math.PI*2,false);p.closePath();p.fill()};this.Da=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*this.N;var n=t*this.O/2;var h=Math.PI*(this.Y.length-2)/this.Y.length;var e=Math.PI-h;var s=this.Ka(P.v[0],P.v[1]);if(this.oa){s=-1}var r=[Math.cos(0)*n,Math.sin(0)*n];var o=[Math.cos(e)*n,Math.sin(e)*n];var l=[(r[0]+o[0])/2,(r[1]+o[1])/2];n=Math.sqrt(l[0]*l[0]+l[1]*l[1]);for(var d=0;d<this.Y.length;d++){var c=this.Y[d]+this.Z;var w=[window.innerWidth/2+Math.cos(c)*n,window.innerHeight/2+Math.sin(c)*n];var f=[Math.cos(c),Math.sin(c)];var u=this.La(c);var v=this.Ma(this.Y.length);var g=[w[0]-v/2*u[0]-i/2*f[0],w[1]-v/2*u[1]-i/2*f[1]];var m=[w[0]+v/2*u[0]-i/2*f[0],w[1]+v/2*u[1]-i/2*f[1]];var M=[w[0]+v/2*u[0]+i/2*f[0],w[1]+v/2*u[1]+i/2*f[1]];var W=[w[0]-v/2*u[0]+i/2*f[0],w[1]-v/2*u[1]+i/2*f[1]];var I=4;var x=[w[0]-v/2*u[0]-u[0]*I-i/2*f[0]-f[0]*I,w[1]-v/2*u[1]-u[1]*I-i/2*f[1]-f[1]*I];var H=[w[0]+v/2*u[0]+u[0]*I-i/2*f[0]-f[0]*I,w[1]+v/2*u[1]+u[1]*I-i/2*f[1]-f[1]*I];var A=[w[0]+v/2*u[0]+u[0]*I+i/2*f[0]+f[0]*I,w[1]+v/2*u[1]+u[1]*I+i/2*f[1]+f[1]*I];var y=[w[0]-v/2*u[0]-u[0]*I+i/2*f[0]+f[0]*I,w[1]-v/2*u[1]-u[1]*I+i/2*f[1]+f[1]*I];if(this.$===d){p.fillStyle="#ffffff"}else if(s===d){var k=this.Na(d);var B=k[0];var T=k[1];var b=k[2];var S=1.5;p.fillStyle="rgb("+Math.floor(Math.min(255,B*S))+", "+Math.floor(Math.min(255,T*S))+", "+Math.floor(Math.min(255,b*S))+")"}else{var k=this.Na(d);p.fillStyle="rgb("+k[0]+", "+k[1]+", "+k[2]+")"}p.beginPath();p.moveTo(g[0],g[1]);p.lineTo(m[0],m[1]);p.lineTo(M[0],M[1]);p.lineTo(W[0],W[1]);p.closePath();p.fill()}};this.Fa=function(){p.fillStyle="rgba(255, 255, 255, 0.5)";p.textAlign="center";p.textBaseline="alphabetic";p.font=this.Ja()+"px PirulenRg-Regular";p.fillText("loser",window.innerWidth/2,window.innerHeight/2)};this.Ha=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*.1;var n=this.Oa()/5;p.fillStyle="rgba(255, 255, 255, "+this.ga+")";p.textAlign="center";p.textBaseline="top";p.font=this.Ja()/5+"px PirulenRg-Regular";p.fillText("tap to try again",window.innerWidth/2,window.innerHeight/2+i+n)};this.Ca=function(){p.fillStyle="#"+I.K;p.textAlign=window.innerHeight>window.innerWidth?"center":"left";p.textBaseline=window.innerHeight>window.innerWidth?"top":"middle";p.font=this.Pa()+"px PirulenRg-Regular";p.fillText(""+this.W,window.innerHeight>window.innerWidth?window.innerWidth/2:window.innerWidth*.1,window.innerHeight>window.innerWidth?window.innerHeight*.1:window.innerHeight/2)};this.click=function(t,i){if(S.A()){return}if(this.pa){this.pa=false;return}if(X.style.display==="block"){X.style.display="none";return}if(this.oa){if(this.ga>0){if(W.u(t,i)){if(window.AdInterface){AdInterface.hideAd()}else{a.hide()}S.Qa(function(){B.Ra(B.lastState)});return}if(W.H(t,i)){X.style.display="block";return}this.init()}return}var n=this.Ka(t,i);if(n!==-1){if(n===this.$){this.$=-1}else{this.$=n}}};this.Ka=function(t,i){if(t===-1&&i===-1||S.A()||this.pa){return-1}var n=Math.atan2(i-window.innerHeight/2,t-window.innerWidth/2);var h=[Math.cos(n),Math.sin(n)];var e=2147483647;var s=-1;for(var r=0;r<this.Y.length;r++){var o=this.Y[r]+this.Z;var l=[Math.cos(o),Math.sin(o)];var d=h[0]-l[0];var c=h[1]-l[1];var w=Math.sqrt(d*d+c*c);if(w<e){e=w;s=r}}return s};this.Sa=function(t){var i=Math.PI*2/this.Y.length;var n=Math.PI*2/(this.Y.length+1);var h=n-i;for(var e=1;e<this.Y.length;e++){this.Y[e]+=e*h}this.Y.push(this.Y[0]+n*this.Y.length);this.M*=.75};this.Ta=function(){this._+=3e-6/Math.pow(this._,1.2)+.002;this.da+=625e-7/(2*Math.pow(this.da,1.2)+.02)};this.ya=function(t){if(this.oa){return}if(this.$!==-1){if(this.$===t){this.Ua(t);if(this.Y.length<12){this.Sa(this.$)}this.Ta();this.ha=1;this.Aa(Math.pow(this.ca,1.2)*150.713185891);this.W++;this.$=-1}else{if(window.AdInterface){AdInterface.showAd()}else{a.show();a.p()}this.oa=true;this.Va=Date.now();setTimeout(this.Wa.bind(this),1600)}}};this.Ua=function(t){var i=Math.min(window.innerWidth,window.innerHeight);var n=i*this.O/2;var h=this.ua(n);var e=h[t];var s=[e[1][0]-e[0][0],e[1][1]-e[1][0]];var r=e[0];for(var o=0;o<200;o++){var l=Math.random();var d=[r[0]+s[0]*l,r[1]+s[1]*l];this.V.push(new c(this.X[0],this.X[1]))}};this.La=function(t){return[Math.cos(t+Math.PI/2),Math.sin(t+Math.PI/2)]};this.Ma=function(t){var i=Math.min(window.innerWidth,window.innerHeight);var n=i*this.O/2;var h=Math.PI*(t-2)/t;var e=Math.PI-h;var s=[Math.cos(0)*n,Math.sin(0)*n];var r=[Math.cos(e)*n,Math.sin(e)*n];var o=[(s[0]+r[0])/2,(s[1]+r[1])/2];n=Math.sqrt(o[0]*o[0]+o[1]*o[1]);var l=n*Math.tan(e/2);return l*2-i*this.M};this.ua=function(t){this.Xa=[];var i=Math.min(window.innerWidth,window.innerHeight);var n=i*this.L/2;var h=i*this.N;var e=Math.PI*(this.Y.length-2)/this.Y.length;var s=Math.PI-e;var r=[Math.cos(0)*t,Math.sin(0)*t];var o=[Math.cos(s)*t,Math.sin(s)*t];var l=[(r[0]+o[0])/2,(r[1]+o[1])/2];t=Math.sqrt(l[0]*l[0]+l[1]*l[1]);t-=h/2+n;var d=s/2;var c=t*Math.tan(d);for(var w=0;w<this.Y.length;w++){var f=this.Y[w]+this.Z;var u=[window.innerWidth/2+Math.cos(f)*t,window.innerHeight/2+Math.sin(f)*t];var v=this.La(f);var g=[u[0]-c*v[0],u[1]-c*v[1]];var m=[u[0]+c*v[0],u[1]+c*v[1]];this.Xa.push([g,m])}return this.Xa};this.Pa=function(){return window.innerWidth/12};this.Oa=function(){return window.innerWidth*.25};this.Ja=function(){return window.innerWidth/5};this.Oa=function(){return window.innerWidth*.25};this.Na=function(t){var i=.71;var n=.66;var h=t*150%360/360;return H.Ya(h,n,i)};this.Wa=function(){this.ga=.01};this.init=function(){if(window.AdInterface){AdInterface.hideAd()}else{a.hide()}if(A.Za==="0"){this.pa=true}this.X=[0,0];this.ca=0;this.da=.01;this.aa=0;this._=.02;this.$=-1;this.ba=Math.PI*2*Math.random();this.oa=false;this.ga=0;this.M=.12;this.ha=0;this.U=false;this.V=[];this.Y=[Math.PI*3/2-Math.PI/3,Math.PI*13/6-Math.PI/3,Math.PI*17/6-Math.PI/3];this.W=0}};var e=function(){this.$a=2;this._a=[0,0];this.v=[-1,-1];this.ab=false;this.scrollAmount=0;this.bb=0;this.cb=[];this.update=function(t){while(this.cb.length>0&&M-this.cb[0].time>50){this.cb.splice(0,1)}if(Math.abs(this.bb)<this.$a*t){this.bb=0}else{if(this.bb>0){this.bb-=this.$a*t}else{this.bb+=this.$a*t}}if(this.v[0]===-1&&this.v[1]===-1){this.scrollAmount+=this.bb*t;this.scrollAmount=Math.min(0,this.scrollAmount)}};this.init=function(){m.addEventListener("touchstart",function(t){this.ab=true;var i=t.changedTouches[0];if(!i){return}this._a=[i.pageX,i.pageY]}.bind(this));m.addEventListener("touchend",function(t){this.ab=true;var i=Math.min(window.innerWidth,window.innerHeight);var n=t.changedTouches[0];if(!n){return}var h=this._a[0]-n.pageX;var e=this._a[1]-n.pageY;var s=Math.sqrt(h*h+e*e);this.v=[-1,-1];this.bb=0;for(var r=0;r<this.cb.length;r++){if(Math.abs(this.cb[r].eb)>Math.abs(this.bb)){this.bb=this.cb[r].eb}}if(s/i<=.025){this.fb(n.pageX,n.pageY)}}.bind(this));m.addEventListener("touchmove",function(t){var i=Math.min(window.innerWidth,window.innerHeight);this.ab=true;if(t.targetTouches.length===0){return}var n=t.targetTouches[0];if(this.v[1]!==-1){var h=n.pageY-this.v[1];this.scrollAmount+=h;if(Math.abs(h)>i*.01){this.cb.push({eb:h,time:M})}this.scrollAmount=Math.min(0,this.scrollAmount)}this.v[0]=n.pageX;this.v[1]=n.pageY;t.preventDefault()}.bind(this));m.addEventListener("mousedown",function(t){if(this.ab){return}t.preventDefault()}.bind(this));m.addEventListener("mouseup",function(t){if(this.ab){return}this.fb(t.clientX,t.clientY)}.bind(this));m.addEventListener("mousemove",function(t){if(this.ab){return}this.v[0]=t.clientX;this.v[1]=t.clientY}.bind(this));m.addEventListener("mouseout",function(t){if(this.ab){return}this.v=[-1,-1]}.bind(this));m.addEventListener("dblclick",function(t){t.preventDefault();t.stopPropagation();return false});m.addEventListener("contextmenu",function(t){t.preventDefault();t.stopPropagation();return false});document.addEventListener("wheel",function(t){this.scrollAmount+=t.deltaY*-3;this.scrollAmount=Math.min(0,this.scrollAmount)}.bind(this))};this.fb=function(t,i){B.gb().click(t,i)}};var s=function(){this.hb=function(){p.clearRect(0,0,window.innerWidth,window.innerHeight);p.fillStyle="#"+I.C;p.textAlign="center";p.textBaseline="top"};this.Ya=function(t,i,n){var h,e,b;if(i==0){h=e=b=n}else{var s=function l(t,i,n){if(n<0)n+=1;if(n>1)n-=1;if(n<1/6)return t+(i-t)*6*n;if(n<1/2)return i;if(n<2/3)return t+(i-t)*(2/3-n)*6;return t};var r=n<.5?n*(1+i):n+i-n*i;var o=2*n-r;h=s(o,r,t+1/3);e=s(o,r,t);b=s(o,r,t-1/3)}return[Math.round(h*255),Math.round(e*255),Math.round(b*255)]}};var r=function(){this.ib=null;this.jb=null;this.kb=null;this.lb=null;this.mb=null;this.nb=null;this.ob=null;this.pb=null;this.Za=window.localStorage?window.localStorage.getItem("centrifuge-have-seen-instructions5")?"1":"0":"0";console.log(this.Za);this.update=function(t){};this.Ba=function(){p.clearRect(0,0,window.innerWidth,window.innerHeight);this.qb(false);W.q()};this.Ia=function(){this.qb(true)};this.qb=function(t){if(this.Za==="0"){console.log("setting");this.Za="1";if(window.localStorage){try{window.localStorage.setItem("centrifuge-have-seen-instructions5","1")}catch(i){console.error(i)}}}var n=this.rb()[1]+this.sb()/1.5*2+this.tb();n=window.innerHeight-n;n=Math.min(0,n);P.scrollAmount=Math.max(n,P.scrollAmount);p.translate(0,P.scrollAmount);this.ub();this.vb();if(t){this.Ha()}p.font=this.wb()+"px Arial";p.textBaseline="top";p.textAlign="left";p.fillStyle="#"+I.C;this.xb();this.yb();this.zb();this.Ab();this.Bb();p.translate(0,-P.scrollAmount)};this.xb=function(){var t=this.Cb();var i=this.Db();p.drawImage(this.ib,t[0],t[1],i[0],i[1]);p.drawImage(this.lb,t[0],t[1],i[0],i[1]);p.drawImage(this.mb,t[0],t[1],i[0],i[1]);p.drawImage(this.ob,t[0],t[1],i[0],i[1]);p.fillText("Tap a line before",t[0]+i[0]+this.tb(),t[1]+this.tb());p.fillText("the ball hits it.",t[0]+i[0]+this.tb(),t[1]+this.tb()+this.sb());var n=this.Eb();p.translate(t[0]+i[0]+this.tb()+n[0]/2,t[1]+i[1]/2+this.tb()+n[1]/2);p.rotate(-Math.PI*.2);p.drawImage(this.jb,-n[0]/2,-n[1]/2,n[0],n[1]);p.rotate(Math.PI*.2);p.translate(-t[0]-i[0]-this.tb()-n[0]/2,-t[1]-i[1]/2-this.tb()-n[1]/2)};this.yb=function(){var t=this.Fb();var i=this.Db();p.drawImage(this.ib,t[0],t[1],i[0],i[1]);p.drawImage(this.kb,t[0],t[1],i[0],i[1]);p.drawImage(this.nb,t[0],t[1],i[0],i[1]);p.drawImage(this.ob,t[0],t[1],i[0],i[1]);p.fillText("If you tap the",t[0]+i[0]+this.tb(),t[1]+this.tb());p.fillText("wrong line you",t[0]+i[0]+this.tb(),t[1]+this.tb()+this.sb());p.fillText("will lose.",t[0]+i[0]+this.tb(),t[1]+this.tb()+this.sb()*2);var n=this.Eb();p.translate(t[0]+i[0]/4+n[0]/2,t[1]+i[1]-this.tb()+n[1]/2);p.rotate(-Math.PI*.1);p.drawImage(this.jb,-n[0]/2,-n[1]/2,n[0],n[1]);p.rotate(Math.PI*.1);p.translate(-t[0]-i[0]/4-n[0]/2,-t[1]-i[1]+this.tb()-n[1]/2)};this.zb=function(){var t=this.Gb();var i=this.Db();p.drawImage(this.ib,t[0],t[1],i[0],i[1]);p.drawImage(this.kb,t[0],t[1],i[0],i[1]);p.drawImage(this.mb,t[0],t[1],i[0],i[1]);p.drawImage(this.ob,t[0],t[1],i[0],i[1]);p.fillText("You won't lose",t[0]+i[0]+this.tb(),t[1]+this.tb());p.fillText("points for doing",t[0]+i[0]+this.tb(),t[1]+this.tb()+this.sb());p.fillText("nothing.",t[0]+i[0]+this.tb(),t[1]+this.tb()+this.sb()*2)};this.Ab=function(){var t=this.Hb();p.textAlign="center";p.font=this.wb()+"px Arial";p.fillText("Enjoy Centrifuge?",t[0],t[1]);p.fillText("Check out our MMO, Aether Pass!",t[0],t[1]+this.sb());p.fillStyle="#"+(this.Ib(P.v[0],P.v[1])?I.B:I.C);p.fillText("http://aetherpass.com/",t[0],t[1]+this.sb()*2);p.fillRect(t[0]-window.innerWidth/3.2,t[1]+this.sb()*3,window.innerWidth/1.6,window.innerWidth/400);p.fillStyle="#"+I.C};this.Bb=function(){var t=this.rb();p.font=this.wb()/1.5+"px Arial";p.fillText("Created by:",t[0],t[1]);p.fillText("Trent Davies, Matt Laux, Rachel Ho",t[0],t[1]+this.sb()/1.5)};this.ub=function(){p.font=this.Jb()+"px Begok";p.textBaseline="top";p.textAlign="center";p.fillStyle="#"+I.C;p.fillText("instructions",window.innerWidth/2,window.innerHeight*.1)};this.vb=function(){p.font=this.Jb()/4+"px Begok";p.textBaseline="top";p.textAlign="center";p.fillStyle="#"+I.C;p.fillText("scroll down",window.innerWidth/2,window.innerHeight*.1+this.Kb())};this.Ha=function(){p.font=this.Jb()/4+"px Begok";p.textBaseline="top";p.textAlign="center";p.fillStyle="#"+I.C;p.fillText("click to continue",window.innerWidth/2,window.innerHeight*.1+this.Kb()+this.Kb()/4)};this.Cb=function(){return[this.tb(),window.innerHeight*.2+this.Kb()+this.Kb()/4]};this.Fb=function(){return[this.tb(),this.Cb()[1]+this.Db()[1]+this.Kb()*2]};this.Gb=function(){return[this.tb(),this.Fb()[1]+this.Db()[1]+this.Kb()*2]};this.Hb=function(){return[window.innerWidth/2,this.Gb()[1]+this.Db()[1]+this.tb()*4]};this.rb=function(){return[window.innerWidth/2,this.Hb()[1]+this.sb()*3+this.tb()*4]};this.Db=function(){var t=window.innerWidth/2-this.tb()*2;var i=t/this.ib.width*this.ib.height;return[t,i]};this.Jb=function(){return window.innerWidth/12};this.Kb=function(){return window.innerWidth/12};this.tb=function(){return window.innerWidth*.05};this.Eb=function(){return[this.jb.width*window.innerWidth*3/9800,this.jb.height*window.innerWidth*3/9800]};this.wb=function(){return window.innerWidth/16};this.sb=function(){return window.innerWidth/24*1.5};this.Ib=function(t,i){var n=this.Hb();n[1]+=P.scrollAmount+this.sb()*2;var h=[window.innerWidth/1.6,this.sb()*1.3];return t>=n[0]-h[0]/2&&t<n[0]+h[0]/2&&i>=n[1]&&i<n[1]+h[1]};this.click=function(t,i){if(W.u(t,i)){if(window.AdInterface){AdInterface.hideAd()}else{a.hide()}S.Qa(function(){B.Ra(B.lastState)});return}if(this.Ib(t,i)){var n=window.open("http://aetherpass.com/","_blank");n.focus()}};this.init=function(){this.ib=document.createElement("img");this.ib.src="assets/instructions-ball.png";this.ib.id="globalInstructionsBall";this.ib.width="800";this.ib.height="873";this.jb=document.createElement("img");this.jb.src="assets/instructions-finger.png";this.jb.id="globalInstructionsFinger";this.jb.width="500";this.jb.height="628";this.kb=document.createElement("img");this.kb.src="assets/instructions-paddle-green.png";this.kb.id="globalInstructionsPaddleGreen";this.kb.width="800";this.kb.height="873";this.lb=document.createElement("img");this.lb.src="assets/instructions-paddle-green-selected.png";this.lb.id="globalInstructionsPaddleGreenSelected";this.lb.width="800";this.lb.height="873";this.mb=document.createElement("img");this.mb.src="assets/instructions-paddle-purple.png";this.mb.id="globalInstructionsPaddlePurple";this.mb.width="800";this.mb.height="873";this.nb=document.createElement("img");this.nb.src="assets/instructions-paddle-purple-selected.png";this.nb.id="globalInstructionsPaddlePurpleSelected";this.nb.width="800";this.nb.height="873";this.ob=document.createElement("img");this.ob.src="assets/instructions-paddle-red.png";this.ob.id="globalInstructionsPaddleRed";this.ob.width="800";this.ob.height="873";this.pb=document.createElement("img");this.pb.src="assets/instructions-paddle-red-selected.png";this.pb.id="globalInstructionsPaddleRedSelected";this.pb.width="800";this.pb.height="873"};this.init()};var o=function(){this.va=function(t,i,n){var h=i[0][0];var e=i[0][1];var s=i[1][0];var r=i[1][1];var o=n[0][0];var l=n[0][1];var d=n[1][0];var c=n[1][1];var w=(c-l)*(s-h)-(d-o)*(r-e);if(w==0){return false}var f=e-l;var u=h-o;var v=((d-o)*f-(c-l)*u)/w;if(v<0||v>1){return false}var g=((s-h)*f-(r-e)*u)/w;if(g<0||g>1){return false}if(t!=null&&t.length!=0){t[0]=h+(s-h)*v;t[1]=e+(r-e)*v}return true};this.xa=function(t,i){var n=t.length-1;var h=false;for(var e=0;e<t.length;e++){if((t[e][1]<i[1]&&t[n][1]>=i[1]||t[n][1]<i[1]&&t[e][1]>=i[1])&&(t[e][0]<=i[0]||t[n][0]<=i[0])){if(t[e][0]+(i[1]-t[e][1])/(t[n][1]-t[e][1])*(t[n][0]-t[e][0])<i[0]){h=!h}}n=e}return h};this.za=function(t,i,n){var h=vec2.sqrDist(i[0],i[1]);if(h==0){t[0]=i[0][0];t[1]=i[0][1];return}var e=((n[0]-i[0][0])*(i[1][0]-i[0][0])+(n[1]-i[0][1])*(i[1][1]-i[0][1]))/h;if(e<0){t[0]=i[0][0];t[1]=i[0][1];return}if(e>1){t[0]=i[1][0];t[1]=i[1][1];return}t[0]=i[0][0]+e*(i[1][0]-i[0][0]);t[1]=i[0][1]+e*(i[1][1]-i[0][1])};this.wa=function(t,i){t=t%(Math.PI*2);i=i%(Math.PI*2);if(t<-Math.PI){t=Math.PI*2+t}if(t>Math.PI){t=-(Math.PI*2-t)}if(i<-Math.PI){i=Math.PI*2+i}if(i>Math.PI){i=-(Math.PI*2-i)}if(t>Math.PI||t<-Math.PI){console.error("Error: angleFrom not in bounds of [-Math.PI, Math.PI]. angleFrom: "+t)}if(i>Math.PI||i<-Math.PI){console.error("Error: angleTo not in bounds of [-Math.PI, Math.PI]. angleTo: "+i)}if(i<t){if(t-i>Math.PI){return Math.PI*2-(t-i)}else{return-(t-i)}}else{if(i-t>Math.PI){return-(Math.PI*2-(i-t))}else{return i-t}}};this.Lb=function(a,t){return a-Math.floor(a/t)*t}};var l=function(){this.Mb="http://52.26.40.60:5000/centrifuge/api/hiscores";this.Nb="http://52.26.40.60:5000/centrifuge/api/errors";this.Ob=function(t,i,n,h){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==4){if(e.status==200){h(JSON.parse(e.responseText))}else{h(null)}}};e.open(t,i);e.setRequestHeader("Content-Type","application/json;charset=UTF-8");e.send(JSON.stringify(n))};this.Pb=function(t,i,n){this.Ob("POST",this.Mb,{start:t,count:i},n)};this.z=function(){this.Qb()};this.Qb=function(){if(x.U){return}x.U=true;var t=document.getElementById("username-field").value;var i=x.W;if(window.localStorage){try{window.localStorage.setItem("centrifuge-username",t)}catch(n){console.error(n)}}t=t.toLowerCase();if(t.length>12){t=t.substring(0,12)}t=t.replace(/[^a-z ]/,"");this.Ob("PUT",this.Mb,{username:t,W:i},function(t){console.log("score sent "+t)});X.style.display="none"};this.Rb=function(t,i,n,h){if(window.location.href.indexOf("file")==0){return}var e={message:t,url:i,line:n,Sb:h};this.Ob("PUT",this.Nb,e,function(t){console.log("logged error "+t)})}.bind(this)};var d=function(){this.Tb=[];this.Ub=false;this.Vb=false;this.init=function(){this.Wb()};this.Wb=function(){if(this.Ub||this.Vb){return}this.Ub=true;b.Pb(this.Tb.length,20,function(t){if(t["hiscores"].length===0){this.Vb=true}this.Ub=false;this.Tb=this.Tb.concat(t["hiscores"]);_.sortBy(this.Tb,function(t){return t["W"]})}.bind(this))};this.update=function(t){};this.Ba=function(){H.hb();var t=2*this.Pa()+window.innerHeight*.2;t+=(this.Tb.length+1)*this.Pa();t=window.innerHeight-t;t=Math.min(0,t);P.scrollAmount=Math.max(t,P.scrollAmount);if(P.scrollAmount<=t||t===0){this.Wb()}p.translate(0,P.scrollAmount);p.textBaseline="top";p.font=this.Pa()*2+"px Begok";p.fillText("hiscores",window.innerWidth/2,window.innerHeight*.1);var i=2*this.Pa()+window.innerHeight*.2;for(var n=0;n<this.Tb.length;n++){var h=this.Tb[n];p.textAlign="right";p.font=this.Pa()+"px Begok";p.fillText(h["username"],window.innerWidth/2-window.innerWidth/50+window.innerWidth/10,i);p.textAlign="left";p.font=this.Pa()+"px PirulenRg-Regular";p.fillText(h["W"],window.innerWidth/2+window.innerWidth/50+window.innerWidth/10,i-window.innerWidth/240);i+=this.Pa()}p.translate(0,-P.scrollAmount);this.q()};this.q=function(){W.q()};this.click=function(t,i){if(W.u(t,i)){if(window.AdInterface){AdInterface.hideAd()}else{a.hide()}S.Qa(function(){B.Ra(B.lastState)})}};this.Pa=function(){return window.innerWidth/24};this.Xb=function(){var t=this.Yb();return[window.innerWidth*.05,window.innerHeight-window.innerWidth*.05-t[1]]};this.Yb=function(){return[window.innerWidth*5e-4*153,window.innerWidth*5e-4*128]};this.Zb=function(){return window.innerWidth*.0175};this.$b=function(){return window.innerWidth*.018};this._b=function(t,i){var n=this.Xb();var h=this.Yb();h[1]+=this.$b();var e=[n[0]+h[0]+n[0],n[1]-(window.innerHeight-n[1]-h[1])];return t<e[0]&&i>=e[1]}};var c=function(t,i){this.ac=[t,i];this.angle=Math.random()*Math.PI*2;this.speed=x.ca*1.5+Math.random()*.02;this.update=function(t){this.ac[0]+=Math.cos(this.angle)*t*this.speed;this.ac[1]+=Math.sin(this.angle)*t*this.speed};this.Ba=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*.01;p.drawImage(R,this.ac[0]*t+window.innerWidth/2-i,this.ac[1]*t+window.innerHeight/2-i,i*2,i*2)};this.ta=function(){var t=Math.min(window.innerWidth,window.innerHeight);var i=t*.01;var n=this.ac[0]*t+window.innerWidth/2-i;var h=this.ac[1]*t+window.innerHeight/2-i;if(n<0||n>window.innerWidth||h<0||h>window.innerHeight){return true}return false}};var w=function(){this.bc=0;this.cc=1;this.dc=2;this.ec=3;this.lastState=0;this.state=0;this.Ra=function(t){this.lastState=this.state;this.state=t};this.gb=function(){switch(this.state){case this.bc:return T;case this.cc:return x;case this.dc:return A;case this.ec:return k}}};var f=function(t,i,n){this.speed=null;this.ac=[0,0];this.width=0;this.update=function(t){this.ac[0]-=this.speed*t};this.Ba=function(){p.fillStyle="#"+I.J;p.fillRect(this.ac[0]*window.innerWidth,this.ac[1]*window.innerHeight,this.fc(),this.gc())};this.ta=function(){return this.ac[0]<=-this.width};this.fc=function(){return window.innerWidth*this.width};this.gc=function(){return S.hc()};this.ic=function(){return this.speed/S.jc};this.init=function(){this.speed=t?Math.random()*S.jc+S.jc:Math.random()*.006+.001;this.width=t?this.ic():Math.random()*.4+.2;this.ac=[_.isNumber(i)?i*(1+this.width)-this.width:1,_.isNumber(n)?n:T.kc()/window.innerHeight+T.lc()/window.innerHeight*Math.random()]};this.init()};var u=function(){this.mc=20;this.nc=[];this.update=function(t){for(var i=0;i<this.nc.length;i++){this.nc[i].update(t);if(this.nc[i].ta()){this.nc.splice(i,1);i--}}while(this.nc.length<this.mc){this.nc.push(new f(false,1-Math.random()*Math.min(1,t/200)))}};this.Ba=function(){H.hb();p.textBaseline="top";p.font=this.Jb()+"px Begok";p.fillText("centrifuge",window.innerWidth/2,this.kc());p.font=this.oc()+"px Begok";p.fillStyle="#"+(this.pc(P.v[0],P.v[1])?I.B:I.C);p.fillText("play",window.innerWidth/2,this.qc());p.fillStyle="#"+(this.rc(P.v[0],P.v[1])?I.B:I.C);p.fillText("instructions",window.innerWidth/2,this.sc());p.fillStyle="#"+(this.tc(P.v[0],P.v[1])?I.B:I.C);p.fillText("scores",window.innerWidth/2,this.uc());for(var t=0;t<this.nc.length;t++){this.nc[t].Ba()}};this.click=function(t,i){if(S.A()){return}if(this.pc(t,i)){S.Qa(function(){x.init();B.Ra(B.cc)})}if(this.rc(t,i)){S.Qa(function(){B.Ra(B.dc)})}if(this.tc(t,i)){k.init();S.Qa(function(){B.Ra(B.ec)})}};this.pc=function(t,i){if(S.A()){return false}if(t>=window.innerWidth/2-this.vc()/2&&t<window.innerWidth/2+this.vc()/2){if(i>=this.qc()&&i<this.qc()+this.wc()){return true}}return false};this.rc=function(t,i){if(S.A()){return false}if(t>=window.innerWidth/2-this.xc()/2&&t<window.innerWidth/2+this.xc()/2){if(i>=this.sc()&&i<this.sc()+this.wc()){return true}}return false};this.tc=function(t,i){if(S.A()){return false}if(t>=window.innerWidth/2-this.yc()/2&&t<window.innerWidth/2+this.yc()/2){if(i>=this.uc()&&i<this.uc()+this.wc()){return true}}return false};this.init=function(){while(this.nc.length<this.mc){this.nc.push(new f(false,Math.random()))}};this.Jb=function(){return window.innerWidth/9};this.kc=function(){return window.innerHeight*.1};this.lc=function(){return window.innerWidth*.12};this.oc=function(){return window.innerWidth/15*(window.innerWidth>window.innerHeight?1:1.4)};this.qc=function(){return window.innerHeight*(window.innerWidth>window.innerHeight?.4:.5)};this.vc=function(){return window.innerWidth/3.75*(window.innerWidth>window.innerHeight?1:1.4);
};this.sc=function(){return this.qc()+this.wc()*1.1};this.xc=function(){return window.innerWidth/1.5*(window.innerWidth>window.innerHeight?1:1.4)};this.uc=function(){return this.sc()+this.wc()*1.1};this.yc=function(){return window.innerWidth/2.5*(window.innerWidth>window.innerHeight?1:1.4)};this.wc=function(){return window.innerWidth*.075*(window.innerWidth>window.innerHeight?1:1.4)}};var v=function(t){this.zc=[];this.Ac=M;this.Bc=t;this.update=function(t){for(var i=0;i<this.zc.length;i++){this.zc[i].update(t)}this.j-=t/I.m};this.Ba=function(){for(var t=0;t<this.zc.length;t++){this.zc[t].Ba()}};this.Cc=function(){return this.Bc&&M-this.Ac>=1*S.Dc()};this.A=function(){return M-this.Ac<1.5*S.Dc()};this.Ec=function(){return M-this.Ac>=2*S.Dc()};this.init=function(){for(var t=0;t<window.innerHeight;t+=S.hc()-1){this.zc.push(new f(true,1,t/window.innerHeight))}};this.init()};var g=function(){this.jc=.018;this.Fc=[];this.update=function(t){for(var i=0;i<this.Fc.length;i++){if(this.Fc[i].Cc()){this.Fc[i].Bc();this.Fc[i].Bc=null}if(this.Fc[i].Ec()){this.Fc.splice(i,1);i--}}for(var i=0;i<this.Fc.length;i++){this.Fc[i].update(t)}};this.Ba=function(){for(var t=0;t<this.Fc.length;t++){this.Fc[t].Ba()}};this.Qa=function(t){var i=function(){P.scrollAmount=0;t()};this.Fc.push(new v(i))};this.A=function(){for(var t=0;t<this.Fc.length;t++){if(this.Fc[t].A()){return true}}return false};this.Dc=function(){return 1/(I.m*this.jc)};this.hc=function(){return Math.max(window.innerWidth,window.innerHeight)*.005}};var m=null;var p=null;var M=Date.now();var a=new t;var W=new i;var I=new n;var x=new h;var P=new e;var H=new s;var A=new r;var y=new o;var b=new l;var k=new d;var B=new w;var T=new u;var S=new g;var R=document.createElement("img");R.src="assets/sparkle.png";R.id="globalSparkle";R.width="16";R.height="16";var E=document.createElement("img");E.src="assets/ball-glow.png";E.id="globalBallGlow";E.width="128";E.height="128";var Y=document.createElement("img");Y.src="assets/back-button.png";Y.id="globalBackButton";Y.width="55";Y.height="46";var q=document.createElement("img");q.src="assets/back-button-hover.png";q.id="globalBackButtonHover";q.width="55";q.height="46";var X=null;var j=function(){if(window.localStorage){var t=window.localStorage.getItem("centrifuge-username");if(t!==null){document.getElementById("username-field").value=t}}};var C=function(){if(window.devicePixelRatio&&window.AdInterface){m.width=window.innerWidth*window.devicePixelRatio;m.height=window.innerHeight*window.devicePixelRatio;p.scale(window.devicePixelRatio,window.devicePixelRatio)}else{m.width=window.innerWidth;m.height=window.innerHeight}m.style.width=window.innerWidth+"px";m.style.height=window.innerHeight+"px";if(!window.AdInterface){a.resize()}};var F=function(){var t=(Date.now()-M)*I.m;M=Date.now();if(!window.AdInterface){a.update(t)}P.update(t);S.update(t);var i=B.gb();i.update(t);i.Ba();S.Ba();window.requestAnimationFrame(F)};window.onload=function(){m=document.getElementById("canvas");p=m.getContext("2d");X=document.getElementById("submit-score-container");X.style.display="none";C();window.onresize=C;P.init();T.init();j();F()};window.onerror=b.Rb;
//# sourceMappingURL=min.js.map